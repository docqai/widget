(()=>{"use strict";({607:function(){var t=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(o,s){function r(t){try{c(n.next(t))}catch(t){s(t)}}function d(t){try{c(n.throw(t))}catch(t){s(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,d)}c((n=n.apply(t,e||[])).next())}))};const e=new class{constructor(){var e,i,n,o;this.docqHost=null===(e=document.currentScript)||void 0===e?void 0:e.getAttribute("server-address"),this.position=(null===(i=document.currentScript)||void 0===i?void 0:i.getAttribute("position"))||"right",this.size=(null===(n=document.currentScript)||void 0===n?void 0:n.getAttribute("size"))||"large",this.debug="true"===(null===(o=document.currentScript)||void 0===o?void 0:o.getAttribute("debug"))||!1,this.largeWidget=()=>{const t=document.createElement("iframe");return t.setAttribute("src",`${this.docqHost}/widget?embedded=true`),t.setAttribute("style","\n    position: absolute; top: 0; left: 0; right: 0;\n    width: 100%; height: 100%; border: none;\n  "),t},this.smallWidget=t=>{const e=document.createElement("iframe");return e.setAttribute("src",`${this.docqHost}/widget?embedded=true`),e.setAttribute("style",`\n    position: fixed; bottom: 0;\n    ${t}: 0; width: 100%;\n    height: 100%; border: none;\n  `),console.log(this.docqHost),e},this.defaultWidget=()=>{const t=document.createElement("div");return this.debug?t.innerHTML=`\n    <p style="color: red;">Error connecting to docq server</p>\n    <h4>Debug mode is on</h4>\n    <p>Server address: ${this.docqHost}<p>\n    `:t.innerHTML='\n    <p style="color: red;">Error connecting to docq server<p>\n    ',t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.flexDirection="column",t.style.height="100%",t.style.width="100%",t},this.checkDocqHost=()=>!!this.docqHost||(console.error("server-address attribute is required"),!1),this.appendWidget=(t,e)=>{if(e)return void e.appendChild(t);const i=document.body;if(i)return void i.appendChild(t);const n=document.createElement("body");n.style.margin="0",n.style.padding="0",n.appendChild(t),document.appendChild(n)},this.embed=()=>t(this,void 0,void 0,(function*(){const t=document.getElementById("docq-widget");if(this.docqHost){if(!this.checkDocqHost())return void this.appendWidget(this.defaultWidget(),t);const e="large"===this.size?this.largeWidget():this.smallWidget(this.position);this.appendWidget(e,t)}else this.appendWidget(this.defaultWidget(),t)})),this.checkPage=()=>t(this,void 0,void 0,(function*(){return yield fetch(`${this.docqHost}/widget`).then((t=>{if(this.debug){const{status:e,url:i,redirected:n}=t;console.log({status:e,url:i,redirected:n})}return 404!==t.status})).catch((()=>!1))}))}};window.onload=()=>{e.embed()}}})[607]()})();